import DocsWrapper from 'src/docs/DocsWrapper'

# Helm Deployments

If you are deploying to a Kubernetes or OpenShift cluster, Helm is the only supported method of deployment. It is a
package manager for Kubernetes and allows us to simplify installing and upgrading the project. It enables you to use the
same base templates for deploying Bailo, configuring overrides to values as needed for your specific use case.

For more details, see the [Helm project page](https://helm.sh/).

## Requirements

- [HELM CLI](https://github.com/helm/helm/releases)
- [Kubectl](https://kubernetes.io/docs/tasks/tools/)

If you are deploying to OpenShift, you will also need OC:

- [OpenShift CLI](https://mirror.openshift.com/pub/openshift-v4/clients/oc/latest/linux/oc.tar.gz)

## Deployment

### Setup

All commands assume they are run in the `infrastructure/helm/bailo` directory. You should have already authenticated
`kubectl` to their cluster and changed to the correct context:

1. `kubectl config set-context --current --namespace=bailo`

You can test out your connection by running:

1. `kubectl cluster-info`

When Deploying to OpenShift login to `oc` instead:

1. `oc login <openshift url>`

### Installation

1. `helm dependency update`
2. `helm install bailo .`
3. `helm list # check the installation exists`

### Upgrade

1. `helm upgrade bailo .`

### Remove

1. `helm uninstall bailo`

export default ({ children }) => <DocsWrapper>{children}</DocsWrapper>
